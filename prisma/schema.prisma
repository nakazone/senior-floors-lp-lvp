// Senior Floors LVP Landing - PostgreSQL
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model LVPProduct {
  id           String   @id @default(uuid())
  name         String
  description  String?
  thickness    Float    // mm, e.g. 5, 6, 8
  wearLayer    Int      // mil, e.g. 12, 20
  color        String   // Oak, Walnut, Gray, etc.
  pricePerSqft Float
  waterproof   Boolean
  commercial   Boolean
  imageUrl     String
  active       Boolean  @default(true)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  leads Lead[]
}

model Lead {
  id          String      @id @default(uuid())
  name        String
  email       String
  phone       String
  zipCode     String
  sqft        Float?
  productId   String?
  product     LVPProduct? @relation(fields: [productId], references: [id])
  serviceType String     // material_only | labor_only | full_installation
  photoUrl    String?    // optional upload
  status      String     @default("new")
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
}

model AdminUser {
  id        String   @id @default(uuid())
  email     String   @unique
  password  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model SiteConfig {
  id         String   @id @default(uuid())
  key        String   @unique
  value      String
  updatedAt  DateTime @updatedAt
}
